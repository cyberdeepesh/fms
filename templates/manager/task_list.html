{% extends 'manager/base.html' %}
{% block title %}Franchise Tasks Overview{% endblock %}

{% block content %}
<div class="p-6">
  <h2 class="text-2xl font-bold mb-4 text-green-700">Franchise Tasks Overview</h2>
  <div class="overflow-x-auto">
    <table class="min-w-full table-auto bg-white shadow rounded-lg">
      <thead class="bg-yellow-100 text-left">
        <tr>
          <th class="p-4">Franchise</th>
          <th class="p-4">Title</th>
          <th class="p-4">Due Date</th>
          <th class="p-4">Priority</th>
          <th class="p-4">Status</th>
        </tr>
      </thead>
      <tbody>
        {% for task in tasks %}
        <tr class="border-b">
          <td class="p-4">{{ task.franchise.name }}</td>
          <td class="p-4">{{ task.title }}</td>
          <td class="p-4">{{ task.due_date }}</td>
          <td class="p-4">
            <span class="text-sm px-2 py-1 rounded-full {{ task.priority|lower|yesno:'bg-red-200 bg-yellow-200 bg-green-200' }}">{{ task.priority }}</span>
          </td>
          <td class="p-4">
            {% if task.is_completed %}
              <span class="bg-green-200 text-green-800 px-2 py-1 text-xs rounded-full">Completed</span>
            {% else %}
              <span class="bg-red-200 text-red-800 px-2 py-1 text-xs rounded-full">Pending</span>
            {% endif %}
          </td>
        </tr>
        {% empty %}
        <tr><td colspan="5" class="p-4 text-center">No tasks assigned.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
